<UserControl 
    x:Class="NTMiner.Views.Ucs.SpeedTable"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
	xmlns:sys="clr-namespace:System;assembly=mscorlib"
	xmlns:uc="clr-namespace:NTMiner.Views.Ucs"
	xmlns:controls="clr-namespace:NTMiner.Controls;assembly=NTMinerWpf"
	xmlns:local="clr-namespace:NTMiner.Views.Ucs"
	xmlns:app="clr-namespace:NTMiner;assembly=AppModels"
	xmlns:vm="clr-namespace:NTMiner.Vms;assembly=AppModels"
	mc:Ignorable="d" 
    x:Name="Uc"
	Background="White"
	d:DesignHeight="450" d:DesignWidth="1200"
    d:DataContext="{d:DesignData Source=../Design/SpeedTableViewModel.xaml}">
    <UserControl.Resources>
        <Style x:Key="TextBox" TargetType="TextBox" BasedOn="{StaticResource TextBoxBase}">
            <Setter Property="BorderBrush" Value="{StaticResource LightLineColor}"></Setter>
            <Setter Property="Width" Value="40"></Setter>
            <Setter Property="Height" Value="22"></Setter>
            <Setter Property="Background" Value="Black"></Setter>
            <Setter Property="Foreground" Value="White"></Setter>
        </Style>
    </UserControl.Resources>
    <UserControl.ContextMenu>
        <ContextMenu Padding="0">
            <MenuItem x:Name="MenuItemShowOverClock" Header="显示超频" Visibility="Visible" Padding="4" Click="MenuItemShowOverClock_Click">
                <MenuItem.Icon>
                    <Path
						Width="16"
						Height="8"
						Data="{StaticResource Icon_CloseEye}"
						Fill="{StaticResource BtnBackground}"
						Stretch="Fill" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem x:Name="MenuItemHideOverClock" Header="隐藏超频" Padding="4" Visibility="Collapsed" Click="MenuItemHideOverClock_Click">
                <MenuItem.Icon>
                    <Path
						Width="16"
						Height="12"
						Data="{StaticResource Icon_OpenEye}"
						Fill="{StaticResource BtnBackground}"
						Stretch="Fill" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem x:Name="MenuItemShowPCIE" Header="显示PCIE" Visibility="Visible" Padding="4" Click="MenuItemShowPCIE_Click">
                <MenuItem.Icon>
                    <Path
						Width="16"
						Height="8"
						Data="{StaticResource Icon_CloseEye}"
						Fill="{StaticResource BtnBackground}"
						Stretch="Fill" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem x:Name="MenuItemHidePCIE" Header="隐藏PCIE" Padding="4" Visibility="Collapsed" Click="MenuItemHidePCIE_Click">
                <MenuItem.Icon>
                    <Path
						Width="16"
						Height="12"
						Data="{StaticResource Icon_OpenEye}"
						Fill="{StaticResource BtnBackground}"
						Stretch="Fill" />
                </MenuItem.Icon>
            </MenuItem>
        </ContextMenu>
    </UserControl.ContextMenu>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
        </Grid.RowDefinitions>
		<DataGrid 
            x:Name="DataGrid"
			ItemsSource="{Binding GpuSpeedVms.List}" 
			Background="Transparent" 
			ColumnHeaderHeight="40"
			HorizontalScrollBarVisibility="Auto"
            BorderThickness="0">
			<DataGrid.Resources>
                <controls:BindingProxy x:Key="proxy" Data="{Binding}" />
			</DataGrid.Resources>
			<DataGrid.Columns>
                <DataGridTemplateColumn MinWidth="40" Width="40" IsReadOnly="True">
					<DataGridTemplateColumn.HeaderTemplate>
						<DataTemplate>
							<TextBlock Text="序号"></TextBlock>
						</DataTemplate>
					</DataGridTemplateColumn.HeaderTemplate>
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<TextBlock Text="{Binding GpuVm.IndexText}"></TextBlock>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn 
                    MinWidth="40" Width="40" IsReadOnly="True"
				    Visibility="{Binding Data.IsPCIEVisible, Source={StaticResource proxy}}">
                    <DataGridTemplateColumn.HeaderTemplate>
                        <DataTemplate>
                            <TextBlock Text="PCIE"></TextBlock>
                        </DataTemplate>
                    </DataGridTemplateColumn.HeaderTemplate>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding GpuVm.BusId}"></TextBlock>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn MinWidth="60" Width="3*" IsReadOnly="True">
					<DataGridTemplateColumn.Header>
						<TextBlock Text="名称"></TextBlock>
					</DataGridTemplateColumn.Header>
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<TextBlock Text="{Binding GpuVm.Name}"></TextBlock>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
				</DataGridTemplateColumn>
                <DataGridTemplateColumn MinWidth="32" Width="32" IsReadOnly="True">
					<DataGridTemplateColumn.Header>
						<TextBlock Text="显存" FontSize="10"></TextBlock>
					</DataGridTemplateColumn.Header>
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<TextBlock Text="{Binding GpuVm.TotalMemoryGbText}"></TextBlock>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
				</DataGridTemplateColumn>
                <DataGridTemplateColumn MinWidth="86" Width="86" IsReadOnly="True">
					<DataGridTemplateColumn.Header>
						<StackPanel>
							<TextBlock Text="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.Code, Source={StaticResource proxy}}" FontSize="12"></TextBlock>
                            <controls:KbLinkButton 
                                BorderThickness="0"
                                Background="Transparent"
                                KbDisplayLine="False"
                                ToolTip="关于本地算力和矿池算力"
                                Command="{x:Static app:AppStatic.SpeedTutorial}"
                                Content="{Binding Data.GpuSpeedVms.TotalSpeedVm.MainCoinSpeed.SpeedText, Source={StaticResource proxy}}" 
                                FontSize="11">
                            </controls:KbLinkButton>
						</StackPanel>
					</DataGridTemplateColumn.Header>
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Text="{Binding MainCoinSpeed.SpeedText}"></TextBlock>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn 
                    MinWidth="30" Width="30" IsReadOnly="True"
                    Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.CoinKernel.Kernel.KernelOutputVm.IsRejectOneGpuShare,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityConverter}}">
                    <DataGridTemplateColumn.Header>
                        <TextBlock Text="拒绝" ToolTip="矿池拒绝的份额数，拒绝无法消减到0因为拒绝和网络有关，但通常不应超过2%" FontSize="10"></TextBlock>
                    </DataGridTemplateColumn.Header>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <WrapPanel>
                                <TextBlock TextAlignment="Right" Text="{Binding MainCoinSpeed.RejectShare}"></TextBlock>
                            </WrapPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn 
                    MinWidth="30" Width="1.2*" IsReadOnly="True"
                    Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.CoinKernel.Kernel.KernelOutputVm.IsFoundOneGpuShare,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityConverter}}">
                    <DataGridTemplateColumn.Header>
                        <controls:KbLinkButton 
                            Content="找到" 
                            ToolTip="矿机找到的满足矿池要求的结果数"
                            Background="Transparent" 
                            BorderThickness="0" 
                            Margin="0 2 0 0" 
                            Command="{x:Static app:AppStatic.ShareTutorial}"
                            KbDisplayLine="False"
                            FontSize="10"></controls:KbLinkButton>
                    </DataGridTemplateColumn.Header>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <WrapPanel>
                                <TextBlock Text="{Binding MainCoinSpeed.FoundShare}"></TextBlock>
                            </WrapPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn 
                    MinWidth="30" Width="30" IsReadOnly="True"
                    Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.CoinKernel.Kernel.KernelOutputVm.IsGotOneIncorrectGpuShare,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityConverter}}">
                    <DataGridTemplateColumn.Header>
                        <TextBlock Text="无效" ToolTip="显卡计算出错误结果的次数（应该为0或接近0，否则请检查超频或转接线）" FontSize="10"></TextBlock>
                    </DataGridTemplateColumn.Header>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <WrapPanel>
                                <TextBlock Text="{Binding MainCoinSpeed.IncorrectShare}"></TextBlock>
                            </WrapPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn 
                    MinWidth="86" Width="86" IsReadOnly="True"
					Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.CoinKernel.CoinKernelProfile.IsDualCoinEnabled, Source={StaticResource proxy}, Converter={StaticResource BoolToHiddenConverter}}">
					<DataGridTemplateColumn.Header>
						<StackPanel>
                            <TextBlock Text="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.CoinKernel.CoinKernelProfile.SelectedDualCoin.Code, Source={StaticResource proxy}}" FontSize="12"></TextBlock>
                            <TextBlock Text="{Binding Data.GpuSpeedVms.TotalSpeedVm.DualCoinSpeed.SpeedText, Source={StaticResource proxy}}" FontSize="11"></TextBlock>
						</StackPanel>
					</DataGridTemplateColumn.Header>
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Text="{Binding DualCoinSpeed.SpeedText}"></TextBlock>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn MinWidth="80" Width="80" IsReadOnly="True">
					<DataGridTemplateColumn.HeaderTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="℃ 核心 / 显存" ToolTip="1. 核心温度不超过80℃通常就没问题；2. 提高风扇转速和降低功耗有利于降低温度；3. 5700、3080、3090等新卡才有显存温度传感器，旧卡没有；4. 显存温度可能会很高，甚至超过100度也没有问题。" FontSize="10"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}" IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}">
                                    <CheckBox 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityConverter}}"
			                            FocusVisualStyle="{x:Null}"
			                            Padding="0" 
                                        ToolTip="通过自动调整风扇转速努力将温度控制在60度"
                                        FontWeight="Normal"
			                            VerticalContentAlignment="Center"
			                            Foreground="{StaticResource LableColor}"
			                            Tag="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm,Source={StaticResource proxy}}"
			                            IsChecked="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.IsAutoFanSpeed,Source={StaticResource proxy}}" 
			                            Content="自动">
                                    </CheckBox>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
					</DataGridTemplateColumn.HeaderTemplate>
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
                            <StackPanel>
                                <WrapPanel>
                                    <TextBlock Foreground="{Binding GpuVm.TemperatureForeground}" Text="{Binding GpuVm.TemperatureText}"></TextBlock>
                                    <TextBlock Foreground="{Binding GpuVm.TemperatureForeground}" Visibility="{Binding GpuVm.IsMemoryTemperatureVisible}" Text=" / "></TextBlock>
                                    <TextBlock Foreground="{Binding GpuVm.TemperatureForeground}" Visibility="{Binding GpuVm.IsMemoryTemperatureVisible}" Text="{Binding GpuVm.MemoryTemperatureText}"></TextBlock>
                                </WrapPanel>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}">
                                    <CheckBox 
							            FocusVisualStyle="{x:Null}"
							            Padding="0" 
							            VerticalAlignment="Center"
							            Tag="{Binding GpuProfileVm}"
                                        FontSize="11"
                                        ToolTip="通过自动调整风扇转速努力将温度控制在60度"
							            Foreground="{StaticResource LableColor}" 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityInvertConverter}}"
                                        IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}"
							            IsChecked="{Binding GpuProfileVm.IsAutoFanSpeed,Mode=TwoWay,UpdateSourceTrigger=LostFocus}" 
							            Content="自动"></CheckBox>
                                </Border>
                            </StackPanel>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn MinWidth="50" Width="50" IsReadOnly="True" CanUserResize="False">
                    <DataGridTemplateColumn.HeaderTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="温度阈值" ToolTip="这是显卡的保护温度，当达到这个温度后显卡自己会自动降低算力以降低温度。" FontSize="10"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}" IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}">
                                    <TextBox 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityConverter}}"
                                        Style="{StaticResource TextBox}" 
                                        FontWeight="Normal" 
                                        ToolTip="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.GpuVm.TempLimitMinMaxText,Source={StaticResource proxy}}" 
                                        Text="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.TempLimit,Source={StaticResource proxy},ValidatesOnExceptions=True}">
                                    </TextBox>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.HeaderTemplate>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="{Binding GpuVm.TempLimitText}"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}">
                                    <TextBox 
                                        Style="{StaticResource TextBox}" 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityInvertConverter}}" 
                                        IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}" 
                                        ToolTip="{Binding GpuVm.TempLimitMinMaxText}" 
                                        Text="{Binding GpuProfileVm.TempLimit,Mode=TwoWay,UpdateSourceTrigger=LostFocus, ValidatesOnExceptions=True}"></TextBox>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn MinWidth="40" Width="40" IsReadOnly="True" CanUserResize="False">
                    <DataGridTemplateColumn.HeaderTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="风扇" FontSize="10"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}" IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}">
                                    <TextBox 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityConverter}}"
                                        Style="{StaticResource TextBox}" 
                                        Width="34"
                                        FontWeight="Normal" 
                                        ToolTip="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.GpuVm.CoolMinMaxText,Source={StaticResource proxy}}" 
                                        Text="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.Cool,Source={StaticResource proxy},ValidatesOnExceptions=True}">
                                    </TextBox>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.HeaderTemplate>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="{Binding GpuVm.FanSpeedText}"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}">
                                    <TextBox 
                                        Style="{StaticResource TextBox}" 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityInvertConverter}}" 
                                        IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}" 
                                        ToolTip="{Binding GpuVm.CoolMinMaxText}" 
                                        Text="{Binding GpuProfileVm.Cool,Mode=TwoWay,UpdateSourceTrigger=LostFocus, ValidatesOnExceptions=True}"></TextBox>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn MinWidth="40" Width="40" IsReadOnly="True" CanUserResize="False">
					<DataGridTemplateColumn.HeaderTemplate>
						<DataTemplate>
                            <StackPanel>
                                <TextBlock Text="核心" FontSize="10"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}" IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}">
                                    <TextBox 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityConverter}}"
                                        Style="{StaticResource TextBox}" 
                                        Width="34"
                                        FontWeight="Normal" 
                                        ToolTip="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.GpuVm.CoreClockDeltaMinMaxMText,Source={StaticResource proxy}}" 
                                        Text="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.CoreClockDelta,Source={StaticResource proxy},ValidatesOnExceptions=True}">
                                    </TextBox>
                                </Border>
                            </StackPanel>
						</DataTemplate>
					</DataGridTemplateColumn.HeaderTemplate>
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
                            <StackPanel>
                                <TextBlock Text="{Binding GpuVm.CoreClockDeltaMText}"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}">
                                    <TextBox 
                                        Style="{StaticResource TextBox}" 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityInvertConverter}}" 
                                        IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}" 
                                        ToolTip="{Binding GpuVm.CoreClockDeltaMinMaxMText}" 
                                        Text="{Binding GpuProfileVm.CoreClockDelta,Mode=TwoWay,UpdateSourceTrigger=LostFocus, ValidatesOnExceptions=True}"></TextBox>
                                </Border>
                            </StackPanel>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn MinWidth="50" Width="50" IsReadOnly="True" CanUserResize="False">
                    <DataGridTemplateColumn.HeaderTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="核心电压" FontSize="10"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}" IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}">
                                    <TextBox 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityConverter}}"
                                        Style="{StaticResource TextBox}" 
                                        FontWeight="Normal" 
                                        ToolTip="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.GpuVm.VoltageMinMaxText,Source={StaticResource proxy}}" 
                                        Text="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.CoreVoltage,Source={StaticResource proxy},ValidatesOnExceptions=True}">
                                    </TextBox>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.HeaderTemplate>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="{Binding GpuVm.CoreVoltage}"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}">
                                    <TextBox 
                                        Style="{StaticResource TextBox}" 
                                        Width="50"
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityInvertConverter}}" 
                                        IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}" 
                                        ToolTip="{Binding GpuVm.VoltageMinMaxText}" 
                                        Text="{Binding GpuProfileVm.CoreVoltage,Mode=TwoWay,UpdateSourceTrigger=LostFocus, ValidatesOnExceptions=True}"></TextBox>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn MinWidth="40" Width="40" IsReadOnly="True" CanUserResize="False">
					<DataGridTemplateColumn.HeaderTemplate>
						<DataTemplate>
                            <StackPanel>
                                <TextBlock Text="显存" FontSize="10"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}" IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}">
                                    <TextBox 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityConverter}}"
                                        Style="{StaticResource TextBox}" 
                                        Width="34"
                                        FontWeight="Normal"
                                        ToolTip="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.GpuVm.MemoryClockDeltaMinMaxMText,Source={StaticResource proxy}}" 
                                        Text="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.MemoryClockDelta,Source={StaticResource proxy},ValidatesOnExceptions=True}">
                                    </TextBox>
                                </Border>
                            </StackPanel>
						</DataTemplate>
					</DataGridTemplateColumn.HeaderTemplate>
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
                            <StackPanel>
                                <TextBlock Text="{Binding GpuVm.MemoryClockDeltaMText}"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}">
                                    <TextBox 
                                        Style="{StaticResource TextBox}" 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityInvertConverter}}" 
                                        IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}" 
                                        ToolTip="{Binding GpuVm.MemoryClockDeltaMinMaxMText}" 
                                        Text="{Binding GpuProfileVm.MemoryClockDelta,Mode=TwoWay,UpdateSourceTrigger=LostFocus, ValidatesOnExceptions=True}"></TextBox>
                                </Border>
                            </StackPanel>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn MinWidth="50" Width="50" IsReadOnly="True" Header="显存电压" CanUserResize="False">
                    <DataGridTemplateColumn.HeaderTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="显存电压" FontSize="10"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}" IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}">
                                    <TextBox 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityConverter}}"
                                        Style="{StaticResource TextBox}" 
                                        FontWeight="Normal" 
                                        ToolTip="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.GpuVm.VoltageMinMaxText,Source={StaticResource proxy}}" 
                                        Text="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.MemoryVoltage,Source={StaticResource proxy},ValidatesOnExceptions=True}" >
                                    </TextBox>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.HeaderTemplate>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="{Binding GpuVm.MemoryVoltage}"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}">
                                    <TextBox 
                                        Style="{StaticResource TextBox}" 
                                        Width="50"
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityInvertConverter}}" 
                                        IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}" 
                                        ToolTip="{Binding GpuVm.VoltageMinMaxText}" 
                                        Text="{Binding GpuProfileVm.MemoryVoltage,Mode=TwoWay,UpdateSourceTrigger=LostFocus, ValidatesOnExceptions=True}"></TextBox>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn MinWidth="50" Width="50" IsReadOnly="True" Header="显存时序" CanUserResize="False" Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.GpuVm.IsMemoryTimingVisible,Source={StaticResource proxy}}">
                    <DataGridTemplateColumn.HeaderTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="显存时序" FontSize="10"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}" IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}">
                                    <controls:KbComboBox 
                                        Width="42"
                                        Height="22"
                                        Padding="4 2"
                                        ToolTip="-1表示不设置"
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityConverter}}"
                                        ItemsSource="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.GpuVm.MemoryTimingLevelSelects,Source={StaticResource proxy}}" 
                                        SelectedItem="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.CurrentMemoryTimingLevel,Source={StaticResource proxy},ValidatesOnExceptions=True}" >
                                    </controls:KbComboBox>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.HeaderTemplate>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="{Binding GpuVm.CurrentMemoryTimingLevel}"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}">
                                    <Border Visibility="{Binding GpuVm.IsMemoryTimingVisible}">
                                        <controls:KbComboBox 
                                            Width="42"
                                            Height="22"
                                            Padding="4 2"
                                            ToolTip="-1表示不设置"
                                            Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityInvertConverter}}" 
                                            IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}" 
                                            ItemsSource="{Binding GpuVm.MemoryTimingLevelSelects}" 
                                            SelectedItem="{Binding GpuProfileVm.CurrentMemoryTimingLevel,Mode=TwoWay,UpdateSourceTrigger=LostFocus, ValidatesOnExceptions=True}"></controls:KbComboBox>
                                    </Border>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn MinWidth="40" Width="40" IsReadOnly="True" CanUserResize="False">
                    <DataGridTemplateColumn.HeaderTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="功耗" FontSize="10"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}" IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}">
                                    <TextBox 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityConverter}}"
                                        Style="{StaticResource TextBox}" 
                                        Width="34"
                                        FontWeight="Normal" 
                                        ToolTip="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.GpuVm.PowerMinMaxText,Source={StaticResource proxy}}" 
                                        Text="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.GpuAllProfileVm.PowerCapacity,Source={StaticResource proxy},ValidatesOnExceptions=True}">
                                    </TextBox>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.HeaderTemplate>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="{Binding GpuVm.PowerCapacityText}"></TextBlock>
                                <Border Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}">
                                    <TextBox 
                                        Style="{StaticResource TextBox}" 
                                        Visibility="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockGpuAll,Source={StaticResource proxy},Converter={StaticResource BoolToVisibilityInvertConverter}}" 
                                        IsEnabled="{Binding Data.GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled,Source={StaticResource proxy}}" 
                                        ToolTip="{Binding GpuVm.PowerMinMaxText}" 
                                        Text="{Binding GpuProfileVm.PowerCapacity,Mode=TwoWay,UpdateSourceTrigger=LostFocus, ValidatesOnExceptions=True}"></TextBox>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn MinWidth="50" Width="50" IsReadOnly="True" CanUserResize="False">
                    <DataGridTemplateColumn.HeaderTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="实时功耗" FontSize="10"></TextBlock>
                                <TextBlock Text="{Binding Data.GpuSpeedVms.GpuAllVm.PowerUsageWText, Source={StaticResource proxy}}" FontSize="11"></TextBlock>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.HeaderTemplate>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Text="{Binding GpuVm.PowerUsageWText}"></TextBlock>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
        <TextBlock Visibility="{Binding GpuSpeedVms.List, Converter={StaticResource NoRecordVisibilityConverter}}" Foreground="Red" VerticalAlignment="Center" HorizontalAlignment="Center">没有矿卡或矿卡未驱动</TextBlock>
        <WrapPanel Grid.Row="2" Margin="4 2" HorizontalAlignment="Right" Visibility="{Binding ElementName=Uc,Path=IsOverClockVisible}" IsEnabled="{Binding GpuSpeedVms.MinerProfile.CoinVm.IsOverClockEnabled}">
            <ItemsControl
				BorderThickness="0"
				MouseDown="ItemsControl_MouseDown"
				ItemsSource="{Binding GpuSpeedVms.MinerProfile.CoinVm.OverClockDatas}" 
				ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                <ItemsControl.Resources>
                    <controls:BindingProxy x:Key="proxy" Data="{Binding GpuSpeedVms.MinerProfile}" />
                </ItemsControl.Resources>
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel></WrapPanel>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <controls:KbButton
							ToolTip="{Binding Tooltip}"
							Command="{Binding Data.CoinVm.ApplyTemplateOverClock,Source={StaticResource proxy}}"
							CommandParameter="{Binding}"
							Background="{StaticResource BtnBackground}"
							Foreground="{StaticResource BtnForeground}"
							Margin="10 0"
							Padding="6 2"
							CornerRadius="2">
                            <TextBlock Text="{Binding Name}"></TextBlock>
                        </controls:KbButton>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
            <controls:KbButton
				Margin="4 0 0 0"
				Height="21"
				Padding="6 2"
				ToolTip="将统一超频的数据一键填充到每张卡"
				Command="{Binding GpuSpeedVms.MinerProfile.CoinVm.FillOverClockForms}" 
				CornerRadius="2">
                <TextBlock Foreground="{StaticResource BtnBackground}">一键填充表单</TextBlock>
            </controls:KbButton>
            <controls:KbButton
                Margin="4 0 0 0"
			    Height="21"
			    Padding="6 2"
			    ToolTip="恢复默认"
			    Command="{Binding GpuSpeedVms.MinerProfile.CoinVm.RestoreOverClock}" 
			    Background="{StaticResource BtnBackground}"
			    Foreground="{StaticResource BtnForeground}"
			    CornerRadius="2">
                <WrapPanel>
                    <Path
					    Width="12"
					    Height="12"
					    Data="{StaticResource Icon_Refresh}"
					    Fill="{StaticResource BtnForeground}"
					    Stretch="Fill" />
                    <TextBlock>恢复默认</TextBlock>
                </WrapPanel>
            </controls:KbButton>
            <controls:KbButton
                Margin="4 0 0 0"
				Height="21"
				Padding="6 2"
				ToolTip="点击应用超频设置"
				Command="{Binding GpuSpeedVms.MinerProfile.CoinVm.ApplyCustomOverClock}" 
				Background="{StaticResource BtnBackground}"
				Foreground="{StaticResource BtnForeground}"
				CornerRadius="2">
                <WrapPanel>
                    <Path
						Width="12"
						Height="12"
						Data="{StaticResource Icon_OverClock}"
						Fill="{StaticResource BtnForeground}"
						Stretch="Fill" />
                    <TextBlock>应用</TextBlock>
                </WrapPanel>
            </controls:KbButton>
        </WrapPanel>
        <TextBlock Grid.Row="3" Padding="4 2" Foreground="Red" Visibility="{x:Static app:AppStatic.IsMixedGpuVisible}">开源不建议N卡A卡混插，若挖矿内核支持混插，算力体现在总算力里。</TextBlock>
    </Grid>
</UserControl>
